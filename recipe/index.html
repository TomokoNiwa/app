<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Visual Studio Code">
<link rel="help" href="https://github.com/tomokoniwa/app/recipe">
<link rel="author" href="https://github.com/tomokoniwa">
<link rel="license" href="https://opensource.org/licenses/MIT">
    <title>My Kitchen Studio 🍳</title>
    <link rel="stylesheet" href="css/style.css">  
</head>
<body>
<body>

<header class="app-header">
    <div class="app-title">🍓 My Kitchen Studio</div>
    <div class="menu-icon" onclick="toggleMenu()">☰</div>
    <div class="header-tools" id="headerTools">
        <button class="btn-load-ui" onclick="document.getElementById('importFile').click()">📂 読込</button>
        <button class="btn-export-ui" onclick="exportData()">💾 保存</button>
        
        <input type="file" id="importFile" accept=".json" style="display:none;" onchange="handleImport(this)">
        <div class="mode-switch">
            <button class="mode-btn active" id="view-tab" onclick="switchMode('view')">📖 見る</button>
            <button class="mode-btn" id="build-tab" onclick="switchMode('build')">✍️ 作る</button>
        </div>
    </div>
</header>

<div id="viewPage" class="page active">
    <div class="container">
        <aside class="sidebar"><div id="palette"></div></aside>
        <main class="main-content">
            <input type="text" id="kwInput" class="search-input" placeholder="検索..." oninput="update()">
            <div id="grid" class="recipe-grid"></div>
        </main>
    </div>
</div>

<div id="buildPage" class="page">
    <div style="background: white; padding: 25px; border-radius: 25px; max-width: 600px; margin: 0 auto;">
        <h2 style="color:var(--main-color); margin-top:0;">📝 新規登録</h2>
        <input type="text" id="recipeName" placeholder="料理名（例：肉じゃが）">
        <div id="builderIngredientList">
            <p>2人前</p>
            <div style="display:flex; gap:5px; margin-bottom:8px;">
                <select style="width:80px; margin:0;" class="b-ing-type"><option value="main">食材</option><option value="sub">調味料</option></select>
                <input type="text" style="margin:0;" class="b-ing-name" placeholder="材料" list="masterList">
                <input type="text" style="margin:0;" class="b-ing-amount" placeholder="分量">
            </div>
        </div>
        <button onclick="addBuilderRow()" style="background:none; border:2px dashed var(--sub-color); width:100%; padding:10px; border-radius:15px; color:var(--main-color); margin:10px 0; cursor:pointer;">＋ 項目を追加</button>
        <input type="url" id="recipeImg" placeholder="画像URL">
        <input type="url" id="recipeUrl" placeholder="参考サイトURL"> 
        <textarea id="recipeMemo" rows="3" placeholder="コツ・メモ"></textarea>
        <button class="btn-primary" onclick="saveRecipe()">✨ 登録して保存</button>
    </div>
</div>

<div id="modal" class="modal" onclick="closeModal()"><div class="modal-content" id="modalContent" onclick="event.stopPropagation()"></div></div>
<datalist id="masterList"></datalist>

<script src="js/recipe.js" charset="UTF-8"></script>
</body>
</html>